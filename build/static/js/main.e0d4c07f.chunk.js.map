{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/persons.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newSearch","handleSearchChange","value","onChange","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","res","data","personObject","post","personId","put","console","log","delete","Persons","persons","setPersons","filter","showNotification","map","person","index","name","includes","number","onClick","id","window","confirm","personService","onDelete","Notification","message","isSuccess","className","App","useState","newNotifcation","setNewNotification","setIsSuccess","setNewName","setNewNumber","setNewSearch","useEffect","setTimeout","e","target","preventDefault","filteredPerson","length","catch","error","undefined","response","concat","ReactDOM","render","notes","content","date","important","document","getElementById"],"mappings":"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","file":"static/js/main.e0d4c07f.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ newSearch, handleSearchChange }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div>\r\n\t\t\t\tfilter show with{\" \"}\r\n\t\t\t\t<input value={newSearch} onChange={handleSearchChange} />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n\taddPerson,\r\n\tnewName,\r\n\tnewNumber,\r\n\thandleNameChange,\r\n\thandleNumberChange,\r\n}) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{\" \"}\r\n\t\t\t<form onSubmit={addPerson}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tname: <input value={newName} onChange={handleNameChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tnumber:{\" \"}\r\n\t\t\t\t\t<input value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl =\r\n\tprocess.env.NODE_ENV === \"development\"\r\n\t\t? \"http://localhost:3001/api/persons\"\r\n\t\t: \"/api/persons\";\r\n\r\nconst getPeople = () => {\r\n\tconst api = axios.get(baseUrl);\r\n\treturn api.then((res) => res.data);\r\n};\r\n\r\nconst addPerson = (personObject) => {\r\n\tconst api = axios.post(`${baseUrl}`, personObject);\r\n\treturn api.then((res) => res.data);\r\n};\r\n\r\nconst updatePerson = (personId, personObject) => {\r\n\tconst api = axios.put(`${baseUrl}/${personId}`, personObject);\r\n\treturn api.then((res) => res.data);\r\n};\r\n\r\nconst deletePerson = (personId) => {\r\n\tconsole.log(`Deleting personId: ${personId}`);\r\n\tconst api = axios.delete(`${baseUrl}/${personId}`);\r\n\treturn api.then((res) => res.data);\r\n};\r\n\r\nexport default { getPeople, addPerson, updatePerson, deletePerson };\r\n","import React from \"react\";\r\nimport personService from \"../services/persons\";\r\n\r\nconst Persons = ({ persons, setPersons, filter, showNotification }) => {\r\n\tconst onDelete = ({ name, id }) => {\r\n\t\tconst confirm = window.confirm(`Delete ${name}?`);\r\n\r\n\t\tif (confirm) {\r\n\t\t\tpersonService.deletePerson(id).then((res) => {\r\n\t\t\t\tshowNotification(\"Deleted User\", false);\r\n\t\t\t\tsetPersons(persons.filter((person) => person.id !== id));\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{persons &&\r\n\t\t\t\tpersons.map((person, index) => {\r\n\t\t\t\t\tif (person === null) return <></>;\r\n\r\n\t\t\t\t\tif (person.name.includes(filter) === false) return <></>;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<p key={index}>\r\n\t\t\t\t\t\t\t{person.name} {person.number}\r\n\t\t\t\t\t\t\t<button onClick={() => onDelete(person)}>\r\n\t\t\t\t\t\t\t\tdelete\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, isSuccess }) => {\r\n\tif (message === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (isSuccess) {\r\n\t\treturn <div className=\"success\">{message}</div>;\r\n\t} else {\r\n\t\treturn <div className=\"error\">{message}</div>;\r\n\t}\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\n\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\n\nimport personService from \"./services/persons\";\n\nfunction App() {\n  // Notification\n  const [newNotifcation, setNewNotification] = useState(null);\n  const [isSuccess, setIsSuccess] = useState(true);\n\n  // List of people\n  const [persons, setPersons] = useState([]);\n\n  // Form data\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n\n  useEffect(() => {\n    const eventHandler = (res) => {\n      setPersons(res);\n    };\n\n    personService.getPeople().then(eventHandler);\n  }, []);\n\n  // onSubmit\n  const addPerson = (e) => {\n    e.preventDefault();\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const filteredPerson = persons.filter((person) => person.name === newName);\n\n    // found duplicate\n    if (filteredPerson.length > 0) {\n      const confirm = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n\n      const personId = filteredPerson[0].id;\n\n      // update person\n      if (confirm) {\n        personService\n          .updatePerson(personId, personObject)\n          .then((res) => {\n            setPersons(\n              persons.map((person) => (person.id === personId ? res : person))\n            );\n            showNotification(`Updated ${newName}`, true);\n          })\n          .catch((error) => {\n            if (error.response === undefined) {\n              showNotification(\n                `Error updating. User ${newName} may have been deleted.`\n              );\n            } else {\n              showNotification(`${error.response.data.error}`, false);\n            }\n          });\n      }\n    }\n    // not duplicate\n    else {\n      personService\n        .addPerson(personObject)\n        .then((res) => {\n          setPersons(persons.concat(res));\n          showNotification(`Added ${newName}`, true);\n        })\n        .catch((error) => {\n          showNotification(`${error.response.data.error}`, false);\n        });\n    }\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const showNotification = (message, isSuccess) => {\n    setNewNotification(message);\n    setIsSuccess(isSuccess);\n\n    // Show Notification\n    setTimeout(() => {\n      setNewNotification(null);\n    }, 4000);\n  };\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleSearchChange = (e) => {\n    setNewSearch(e.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={newNotifcation} isSuccess={isSuccess} />\n\n      <Filter newSearch={newSearch} handleSearchChange={handleSearchChange} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons\n        persons={persons}\n        setPersons={setPersons}\n        filter={newSearch}\n        showNotification={showNotification}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App.js\";\nimport \"./index.css\";\n\nconst notes = [\n\t{\n\t\tid: 1,\n\t\tcontent: \"HTML is easy\",\n\t\tdate: \"2019-05-30T17:30:31.098Z\",\n\t\timportant: true,\n\t},\n\t{\n\t\tid: 2,\n\t\tcontent: \"Browser can execute only JavaScript\",\n\t\tdate: \"2019-05-30T18:39:34.091Z\",\n\t\timportant: false,\n\t},\n\t{\n\t\tid: 3,\n\t\tcontent: \"GET and POST are the most important methods of HTTP protocol\",\n\t\tdate: \"2019-05-30T19:20:14.298Z\",\n\t\timportant: true,\n\t},\n];\n\nReactDOM.render(<App notes={notes} />, document.getElementById(\"root\"));\n"],"sourceRoot":""}